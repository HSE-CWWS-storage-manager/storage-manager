@page "/equipment/transfer/{id}"


<MudGrid Justify="Justify.Center">
    <PageHeader Backlink="@($"/equipment/{Id}")">Создать передачу</PageHeader>
    <MudItem xs="12">
        <MudForm>
            <MudTextField
                T="string"
                @* @bind-Text="Mail" *@
                Label="ФИО студента"
                InputType="InputType.Text"
                Required="true"
                Variant="Variant.Outlined"></MudTextField>
        </MudForm>
    </MudItem>
    <MudItem xs="12">
        <MudSimpleTable>
            <tr>
                <th>Наименование</th>
                <td><MudText>@(ActualItem?.Name ?? "Item not found")</MudText></td>
            </tr>
            @* <tr> *@
            @*     <th>Количество</th> *@
            @*     <td><MudText>@(ActualItem?.InStock ?? -1)/@((ActualItem?.InStock ?? 0) + (ActualItem?.OnLoan ?? 0))</MudText></td> *@
            @* </tr> *@
            <tr>
                <th>Модель</th>
                <td><MudText>@(ActualItem?.Model ?? "Item not found")</MudText></td>
            </tr>
            <tr>
                <th>Серийный номер</th>
                <td><MudText>@(ActualItem?.SerialNumber ?? "Item not found")</MudText></td>
            </tr>
            <tr>
                <th>Инвентарный номер</th>
                <td><MudText>@(ActualItem?.InventoryNumber ?? "Item not found")</MudText></td>
            </tr>
        </MudSimpleTable>
    </MudItem>
    <MudItem xs="12">
        <MudText>Передаем один предмет</MudText>
    </MudItem>
    <MudItem xs="12">
        <MudButton FullWidth="true" Variant="Variant.Outlined">Передать</MudButton>
    </MudItem>
</MudGrid>


@code {
    private readonly EquipmentDto[] _equipmentData;

    [CascadingParameter]
    public required EquipmentDto[] EquipmentData
    {
        get => _equipmentData;
        init
        {
            _equipmentData = value;
            ActualItem = EquipmentData.FirstOrDefault(x => x.Id.ToString().Equals(Id));
        }
    }

    [Parameter] public required string Id { get; init; }
    
    private EquipmentDto? ActualItem { get; init; }
}